<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>EditPage - FIT5225Assignment2</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">

  </head>
  <body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
				 
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
			<span class="navbar-toggler-icon"></span>
		</button> <a class="navbar-brand" href="#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIT5225Assignment2</font></font></a>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="navbar-nav">
				<li class="nav-item">
					 <a class="nav-link" href="/homePage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upload</font></font></a>
				</li>
				<li class="nav-item">
					 <a class="nav-link" href="/search"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Search</font></font><span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（当时的）</font></font></span></a>
				</li>
				<li class="nav-item  active">
					<a class="nav-link" href="/editPage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edit</font></font></a>
			   </li>
			</ul>
			
			<ul class="navbar-nav ml-md-auto">
				<li class="nav-item active">
					 <a class="nav-link" href="#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logout</font></font><span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（当时的）</font></font></span></a>
				</li>

			</ul>
		</div>
	</nav>
	<div class="container-fluid">
		
		<div class="row">
			<div class="col-md-12">
				<div class="row">
					<div class="col-md-12">
						<div class="jumbotron">
							<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
								Image Delete
							</font></font></h2>
							<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
								<strong>description:&nbsp;&nbsp;&nbsp;</strong>Input the URL of an image and the image and relevant entries will be removed from s3 and the database.
							</font></font></p>
							
						</div>
					</div>
					<div class="col-md-12">
						<div class="jumbotron">
							<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
								URL Result
							</font></font></h2>
							<p>
								<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
								<strong>description:&nbsp;&nbsp;&nbsp;</strong> If you hirst input low. Please ente
							
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>


	<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
	<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script>
		function searchByTag(data) {
            var url = 'https://92dso1b1yl.execute-api.us-east-1.amazonaws.com/dev/geturlsbytags'
			var tagInput1 = document.getElementById("tagInput1").value;
			var tagInput2 = document.getElementById("tagInput2").value;
			var tagInput3 = document.getElementById("tagInput3").value;
			var tagNumber1 = Number(document.getElementById("tagNumber1").value);
			var tagNumber2 = Number(document.getElementById("tagNumber2").value);
			var tagNumber3 = Number(document.getElementById("tagNumber3").value);
			if(tagInput2==""&&tagInput3==""){
				var data= {
                  "parameters": {
                    "tags": [
                      {
                        "tag": tagInput1,
                        "count": tagNumber1,
					  },
                    ]
                  }
                }
			}
			else if(tagInput3==""){
				var data= {
                  "parameters": {
                    "tags": [
                      {
                        "tag": tagInput1,
                        "count": tagNumber1,
					  },
					  {
                        "tag": tagInput2,
                        "count": tagNumber2,
					  },
                    ]
                  }
                }
			}
			else{
				var data= {
                  "parameters": {
                    "tags": [
                      {
                        "tag": tagInput1,
                        "count": tagNumber1,
					  },
					  {
                        "tag": tagInput2,
                        "count": tagNumber2,
					  },
					  {
                        "tag": tagInput3,
                        "count": tagNumber3,
					  }
                    ]
                  }
                }
			}
            console.log(data)
			document.getElementById("inputData").innerHTML = "Input: " + tagInput1 + " " + tagInput2 + " " + tagInput3;
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }).then(res => res.json())
            .then(data => console.log(data))
        }
	</script>
  </body>
</html>